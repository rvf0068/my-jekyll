/* Code Block Styling with Prism.js Integration */
/* Preserves custom features: language badges, copy buttons, dark mode */

/* Container styling */
.org-src-container {
  position: relative;
  margin: 1.5rem auto;
  max-width: 700px;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  background-color: #f8f9fa;
  overflow: hidden;
}

/* Code block styling */
.org-src-container pre {
  margin: 0;
  padding: 1.2rem;
  background-color: transparent;
  overflow-x: auto;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.5;
}

/* Simple code block styling without line numbers */
.org-src-container pre {
  /* No special line number padding needed */
}

.org-src-container pre > code {
  position: relative;
  white-space: inherit;
}

/* Override Prism's default styling to match our theme */
.org-src-container pre[class*="language-"] {
  background: transparent;
  color: inherit;
}

.org-src-container code[class*="language-"] {
  background: transparent;
  color: inherit;
  text-shadow: none;
}

/* Remove the background box from operators in all modes */
.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  background: none !important;
}

/* Dark mode styling */
html.dark-mode .org-src-container {
  background-color: #282c34;
  border-color: #3e4451;
}

html.dark-mode .org-src-container pre {
  color: #abb2bf;
}

/* Dark mode Prism.js token colors (One Dark theme inspired) */
html.dark-mode .token.comment,
html.dark-mode .token.prolog,
html.dark-mode .token.doctype,
html.dark-mode .token.cdata {
  color: #5c6370;
}

html.dark-mode .token.punctuation {
  color: #abb2bf;
}

html.dark-mode .token.property,
html.dark-mode .token.tag,
html.dark-mode .token.boolean,
html.dark-mode .token.number,
html.dark-mode .token.constant,
html.dark-mode .token.symbol,
html.dark-mode .token.deleted {
  color: #d19a66;
}

html.dark-mode .token.selector,
html.dark-mode .token.attr-name,
html.dark-mode .token.string,
html.dark-mode .token.char,
html.dark-mode .token.builtin,
html.dark-mode .token.inserted {
  color: #98c379;
}

html.dark-mode .token.operator {
  color: #ff79c6 !important;
  background: none !important;
}

html.dark-mode .token.entity,
html.dark-mode .token.url,
html.dark-mode .language-css .token.string,
html.dark-mode .style .token.string {
  color: #56b6c2;
  background: none !important;
}

html.dark-mode .token.atrule,
html.dark-mode .token.attr-value,
html.dark-mode .token.keyword {
  color: #c678dd;
}

html.dark-mode .token.function,
html.dark-mode .token.class-name {
  color: #61afef;
}

html.dark-mode .token.regex,
html.dark-mode .token.important,
html.dark-mode .token.variable {
  color: #e06c75;
}

/* Light mode Prism.js token colors */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #708090;
}

.token.punctuation {
  color: #999;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #9a6e3a;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #07a;
}

.token.function,
.token.class-name {
  color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
  color: #e90;
}

/* Inline code styling */
p code, li code {
  background-color: #f9f2f4;
  padding: 2px 4px;
  font-size: 85%;
  color: #c7254e;
  border-radius: 4px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Courier New', monospace;
}

html.dark-mode p code,
html.dark-mode li code {
  background-color: #3e4451;
  color: #e06c75;
}



/* Mobile optimization for code blocks */
@media (max-width: 768px) {
  .org-src-container {
    margin: 1rem 0;
    max-width: 100%;
  }

  .org-src-container pre {
    padding: 0.8rem;
    font-size: 13px;
  }

  /* No special line number padding needed on mobile */
  .org-src-container pre {
    /* Consistent padding without line number space */
  }
}

/* Toolbar styling */
.code-toolbar-custom {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 8px;
  z-index: 10;
}

/* Language Badge */
.language-badge {
  background-color: #f8f9fa;
  color: #6c757d;
  border: 1px solid #dee2e6;
  border-radius: 12px;
  padding: 3px 10px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  cursor: default;
}

html.dark-mode .language-badge {
  background-color: #3e4451;
  color: #abb2bf;
  border: 1px solid #5c6370;
}

/* Copy Button */
.copy-button {
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 4px 8px;
  font-size: 0.8rem;
  cursor: pointer;
  min-width: 50px;
  transition: background-color 0.2s;
}

html.dark-mode .copy-button {
  background-color: #61dafb;
  color: #282c34;
}

/* Copy Button States */
.copy-button.success {
  background-color: #28a745 !important;
  color: white !important;
}

.copy-button.error {
  background-color: #dc3545 !important;
  color: white !important;
}
